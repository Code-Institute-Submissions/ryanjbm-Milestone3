{% extends "base.html" %}
{% block content %}
<!-- Title -->
<h3 class="teal-text lighten-2 center-align">Edit Recommendation</h3>
<div class="row card-panel grey lighten-5">
   <form class="col s12" method="POST"
      action="{{url_for('edit_recommendation', recommendation_id=recommendation._id)}}">
      <!-- category -->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-folder-open prefix teal-text lighten-2"></i>
            <select id="category_name" name="category_name" class="validate" required>
               <option value="" disabled>Choose Category</option>
               {% for category in categories %}
               {% if category.category_name == recommendation.category_name %}
               <option value="{{category.category_name}}" selected>{{category.category_name}}</option>
               {% else %}
               <option value="{{category.category_name}}">{{category.category_name}}</option>
               {% endif %}
               {% endfor %}
            </select>
            <label for="category_name">Product Category</label>
         </div>
      </div>
      <!-- product name -->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix teal-text lighten-2"></i>
            <input id="product_name" name="product_name" minlength="1" maxlength="50"
               value="{{recommendation.product_name}}" type="text" class="validate" required>
            <label for="product_name">Product Name</label>
         </div>
      </div>
      <!-- product description -->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-align-left prefix teal-text lighten-2"></i>
            <textarea id="product_description" name="product_description" minlength="5" maxlength="200"
               class="materialize-textarea validate" required>{{- recommendation.product_description -}}</textarea>
            <label for="product_description">Product Description</label>
         </div>
      </div>
      <!-- product link -->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix teal-text lighten-2"></i>
            <input id="product_link" name="product_link" minlength="1" maxlength="500" type="text"
               value="{{recommendation.product_link}}" class="validate" required>
            <label for="product_link">Product Link</label>
         </div>
      </div>
      <!-- product price -->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix teal-text lighten-2"></i>
            <input id="product_price" name="product_price" minlength="1" type="text"
               value="{{recommendation.product_price}}" class="validate" required>
            <label for="product_price">Product Price</label>
         </div>
      </div>
      <!-- product image -->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix teal-text lighten-2"></i>
            <input id="product_image" name="product_image" minlength="1" type="text"
               value="{{recommendation.product_image}}" class="validate" required>
            <label for="product_image">Product Image Address</label>
         </div>
      </div>
      <!-- submit button -->
      <div class="row">
         <div class="col s12 center-align">
            <!-- cancel button -->
            <a class="waves-effect waves-light btn-large red text-shadow modal-trigger" href="#modal1" (click)=>Delete</a>
            <div id="modal1" class="modal">
               <div class="modal-content">
                  <h4>Delete Recommendation</h4>
                  <p>Are you sure you want to delete this product</p>
                  <a href="{{url_for('delete_recommendation', recommendation_id=recommendation._id)}}"
                     class="btn-small red accent-4">Delete</a>
               </div>
               <div class="modal-footer">
                  <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
               </div>
            </div>
            <button type="submit" class="btn-large white-text">
            Edit Recommendation <i class="fas fa-edit right"></i>
            </button>
         </div>
      </div>
      <a href="{{url_for('get_recommendations')}}" class="btn-large text-shadow"><i class="fas fa-arrow-left"></i> Back</a>
   </form>
</div>
{% endblock %}